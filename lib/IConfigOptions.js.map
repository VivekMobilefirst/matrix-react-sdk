{"version":3,"file":"IConfigOptions.js","names":[],"sources":["../src/IConfigOptions.ts"],"sourcesContent":["/*\nCopyright 2016 OpenMarket Ltd\nCopyright 2019 - 2022 The Matrix.org Foundation C.I.C.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nimport { IClientWellKnown } from \"matrix-js-sdk/src/matrix\";\n\nimport { ValidatedServerConfig } from \"./utils/ValidatedServerConfig\";\n\n// Convention decision: All config options are lower_snake_case\n// We use an isolated file for the interface so we can mess around with the eslint options.\n\n/* eslint-disable camelcase */\n/* eslint @typescript-eslint/naming-convention: [\"error\", { \"selector\": \"property\", \"format\": [\"snake_case\"] } ] */\n\n// see element-web config.md for non-developer docs\nexport interface IConfigOptions {\n    // dev note: while true that this is arbitrary JSON, it's valuable to enforce that all\n    // config options are documented for \"find all usages\" sort of searching.\n    // [key: string]: any;\n\n    // Properties of this interface are roughly grouped by their subject matter, such as\n    // \"instance customisation\", \"login stuff\", \"branding\", etc. Use blank lines to denote\n    // a logical separation of properties, but keep similar ones near each other.\n\n    // Exactly one of the following must be supplied\n    default_server_config?: IClientWellKnown; // copy/paste of client well-known\n    default_server_name?: string; // domain to do well-known lookup on\n    default_hs_url?: string; // http url\n\n    default_is_url?: string; // used in combination with default_hs_url, but for the identity server\n\n    // This is intended to be overridden by app startup and not specified by the user\n    // This is also why it's allowed to have an interface that isn't snake_case\n    validated_server_config?: ValidatedServerConfig;\n\n    fallback_hs_url?: string;\n\n    disable_custom_urls?: boolean;\n    disable_guests?: boolean;\n    disable_login_language_selector?: boolean;\n    disable_3pid_login?: boolean;\n\n    brand: string;\n    branding?: {\n        welcome_background_url?: string | string[]; // chosen at random if array\n        auth_header_logo_url?: string;\n        auth_footer_links?: {text: string, url: string}[];\n    };\n\n    map_style_url?: string; // for location-shared maps\n\n    embedded_pages?: {\n        welcome_url?: string;\n        home_url?: string;\n        login_for_welcome?: boolean;\n    };\n\n    permalink_prefix?: string;\n\n    update_base_url?: string;\n    desktop_builds?: {\n        available: boolean;\n        logo: string; // url\n        url: string; // download url\n    };\n    mobile_builds?: {\n        ios?: string; // download url\n        android?: string; // download url\n        fdroid?: string; // download url\n    };\n\n    mobile_guide_toast?: boolean;\n\n    default_theme?: \"light\" | \"dark\" | string; // custom themes are strings\n    default_country_code?: string; // ISO 3166 alpha2 country code\n    default_federate?: boolean;\n    default_device_display_name?: string; // for device naming on login+registration\n\n    setting_defaults?: Record<string, any>; // <SettingName, Value>\n\n    integrations_ui_url?: string;\n    integrations_rest_url?: string;\n    integrations_widgets_urls?: string[];\n\n    show_labs_settings?: boolean;\n    features?: Record<string, boolean>; // <FeatureName, EnabledBool>\n\n    bug_report_endpoint_url?: string; // omission disables bug reporting\n    uisi_autorageshake_app?: string;\n    sentry?: {\n        dsn: string;\n        environment?: string; // \"production\", etc\n    };\n\n    widget_build_url?: string; // url called to replace jitsi/call widget creation\n    audio_stream_url?: string;\n    jitsi?: {\n        preferred_domain: string;\n    };\n    jitsi_widget?: {\n        skip_built_in_welcome_screen?: boolean;\n    };\n    voip?: {\n        obey_asserted_identity?: boolean; // MSC3086\n    };\n\n    logout_redirect_url?: string;\n\n    // sso_immediate_redirect is deprecated in favour of sso_redirect_options.immediate\n    sso_immediate_redirect?: boolean;\n    sso_redirect_options?: ISsoRedirectOptions;\n\n    custom_translations_url?: string;\n\n    report_event?: {\n        admin_message_md: string; // message for how to contact the server owner when reporting an event\n    };\n\n    welcome_user_id?: string;\n\n    room_directory?: {\n        servers: string[];\n    };\n\n    piwik?: false | {\n        policy_url: string; // deprecated in favour of `privacy_policy_url` at root instead\n    };\n    posthog?: {\n        project_api_key: string;\n        api_host: string; // hostname\n    };\n    analytics_owner?: string; // defaults to `brand`\n    privacy_policy_url?: string; // location for cookie policy\n\n    // Server hosting upsell options\n    hosting_signup_link?: string; // slightly different from `host_signup`\n    host_signup?: {\n        brand?: string; // acts as the enabled flag too (truthy == show)\n\n        // Required-ness denotes when `brand` is truthy\n        cookie_policy_url: string;\n        privacy_policy_url: string;\n        terms_of_service_url: string;\n        url: string;\n        domains?: string[];\n    };\n\n    enable_presence_by_hs_url?: Record<string, boolean>; // <HomeserverName, Enabled>\n\n    terms_and_conditions_links?: { url: string, text: string }[];\n\n    latex_maths_delims?: {\n        inline?: {\n            left?: string;\n            right?: string;\n        };\n        display?: {\n            left?: string;\n            right?: string;\n        };\n    };\n\n    sync_timeline_limit?: number;\n    dangerously_allow_unsafe_and_insecure_passwords?: boolean; // developer option\n\n    // XXX: Undocumented URL for the \"Learn more about spaces\" link in the \"Communities don't exist\" messaging.\n    spaces_learn_more_url?: string;\n}\n\nexport interface ISsoRedirectOptions {\n    immediate?: boolean;\n    on_welcome_page?: boolean;\n}\n"],"mappings":""}